!function(l){var h,w,y={x:0,y:0,px:0,py:0,down:!1},p=220,d=880,a=22,x=50,c=p/a,f=d/a,g=[],m=[];function _(){var o,t,e,r,n=y.x-y.px,s=y.y-y.py;for(i=0;i<g.length;i++){var v=g[i];for(j=0;j<v.length;j++){var u=v[j];y.down&&function(o,t,e,r){var i=o.x-y.x,n=o.y-y.y,s=Math.sqrt(n*n+i*i);{var v;s<r&&(s<4&&(s=r),v=r/s,o.xv+=t*v,o.yv+=e*v)}}(u,n,s,x),0,t=.5*(o=u).up_left.xv+o.left.xv+.5*o.down_left.xv-.5*o.up_right.xv-o.right.xv-.5*o.down_right.xv,e=.5*o.up_left.yv+o.up.yv+.5*o.up_right.yv-.5*o.down_left.yv-o.down.yv-.5*o.down_right.yv,o.pressure=.25*(t+e)}}for(w.clearRect(0,0,h.width,h.height),w.strokeStyle="#FFF",function(){for(i=0;i<m.length;i++){var o,t,e,r,n,s,v,u,l,h=m[i];0<=h.x&&h.x<p&&0<=h.y&&h.y<d?(o=parseInt(h.x/a),t=parseInt(h.y/a),e=g[o][t],r=h.x%a/a,n=h.y%a/a,h.xv+=(1-r)*e.xv*.05,h.yv+=(1-n)*e.yv*.05,h.xv+=r*e.right.xv*.05,h.yv+=r*e.right.yv*.05,h.xv+=n*e.down.xv*.05,h.yv+=n*e.down.yv*.05,h.x+=h.xv,h.y+=h.yv,s=h.px-h.x,v=h.py-h.y,u=Math.sqrt(s*s+v*v),(l=.5*Math.random())<u?(w.lineWidth=1,w.beginPath(),w.moveTo(h.x,h.y),w.lineTo(h.px,h.py)):(w.beginPath(),w.moveTo(h.x,h.y),w.lineTo(h.x+l,h.y+l)),w.stroke(),h.px=h.x,h.py=h.y):(h.x=h.px=Math.random()*p,h.y=h.py=Math.random()*d,h.xv=0,h.yv=0),h.xv*=.5,h.yv*=.5}}(),i=0;i<g.length;i++)for(v=g[i],j=0;j<v.length;j++)(r=u=v[j]).xv+=.25*(.5*r.up_left.pressure+r.left.pressure+.5*r.down_left.pressure-.5*r.up_right.pressure-r.right.pressure-.5*r.down_right.pressure),r.yv+=.25*(.5*r.up_left.pressure+r.up.pressure+.5*r.up_right.pressure-.5*r.down_left.pressure-r.down.pressure-.5*r.down_right.pressure),r.xv*=.99,r.yv*=.99;y.px=y.x,y.py=y.y,requestAnimationFrame(_)}function F(o,t,e){this.x=o,this.y=t,this.r=e,this.col=0,this.row=0,this.xv=0,this.yv=0,this.pressure=0}function q(o,t){this.x=this.px=o,this.y=this.py=t,this.xv=this.yv=0}function E(o){y.down=!0}function M(){y.down=!1}function L(o){o.touches||(y.down=!1)}function A(o){y.px=y.x,y.py=y.y,y.x=o.offsetX||o.layerX,y.y=o.offsetY||o.layerY}function b(o){y.px=y.x,y.py=y.y;var t=h.getBoundingClientRect();y.x=o.touches[0].pageX-t.left,y.y=o.touches[0].pageY-t.top}l.Fluid={initialize:function(){for(h=document.getElementById("br-particle-anim"),w=h.getContext("2d"),h.width=p,h.height=d,i=0;i<5e3;i++)m.push(new q(Math.random()*p,Math.random()*d));for(col=0;col<c;col++)for(g[col]=[],row=0;row<f;row++){var o=new F(col*a,row*a,a);g[col][row]=o,g[col][row].col=col,g[col][row].row=row}for(col=0;col<c;col++)for(row=0;row<f;row++){o=g[col][row];var t=0<=row-1?row-1:f-1,e=0<=col-1?col-1:c-1,r=col+1<c?col+1:0,n=g[col][t],s=g[e][row],v=g[e][t],u=g[r][t];o.up=n,o.left=s,o.up_left=v,o.up_right=u,n.down=g[col][row],s.right=g[col][row],v.down_right=g[col][row],u.down_left=g[col][row]}l.addEventListener("mousedown",E, {passive: true}),l.addEventListener("touchstart",E, {passive: true}),l.addEventListener("mouseup",M, {passive: true}),l.addEventListener("touchend",L, {passive: true}),h.addEventListener("mousemove",A, {passive: true}),h.addEventListener("touchmove",b, {passive: true}),l.onload=_}}}(window),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,Fluid.initialize();